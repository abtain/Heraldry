<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Module: ApplicationHelper</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Module</strong></td>
          <td class="class-name-in-header">ApplicationHelper</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../files/app/helpers/application_helper_rb.html">
                app/helpers/application_helper.rb
                </a>
        <br />
            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
Methods added to this helper will be available to all templates in the
application.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000144">add_blank_option</a>&nbsp;&nbsp;
      <a href="#M000136">arrays_to_hash</a>&nbsp;&nbsp;
      <a href="#M000137">controller_action</a>&nbsp;&nbsp;
      <a href="#M000149">country_options_for_select</a>&nbsp;&nbsp;
      <a href="#M000141">current_avatar</a>&nbsp;&nbsp;
      <a href="#M000140">error_messages_for</a>&nbsp;&nbsp;
      <a href="#M000148">format_language</a>&nbsp;&nbsp;
      <a href="#M000151">friendly_property_value</a>&nbsp;&nbsp;
      <a href="#M000146">gender_options_for_select</a>&nbsp;&nbsp;
      <a href="#M000143">input_for_property</a>&nbsp;&nbsp;
      <a href="#M000147">language_options_for_select</a>&nbsp;&nbsp;
      <a href="#M000138">render_help</a>&nbsp;&nbsp;
      <a href="#M000145">select_option</a>&nbsp;&nbsp;
      <a href="#M000139">selected?</a>&nbsp;&nbsp;
      <a href="#M000142">sort_link_for</a>&nbsp;&nbsp;
      <a href="#M000150">time_zone_options_for_select</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000144" class="method-detail">
        <a name="M000144"></a>

        <div class="method-heading">
          <a href="#M000144" class="method-signature">
          <span class="method-name">add_blank_option</span><span class="method-args">(options)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Adds a blank option to a group of select options. If no options are
selected, then the blank option is marked as selected.
</p>
<h4>Parameters</h4>
<table>
<tr><td valign="top">options:</td><td>A string containing the options to which we are adding the blank option.

</td></tr>
</table>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000144-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000144-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/application_helper.rb, line 110</span>
110:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_blank_option</span>(<span class="ruby-identifier">options</span>)
111:     <span class="ruby-identifier">selected</span> = (<span class="ruby-identifier">options</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/selected=/</span> <span class="ruby-operator">?</span> <span class="ruby-value str">''</span> <span class="ruby-operator">:</span> <span class="ruby-value str">' selected=&quot;selected&quot;'</span>)
112:     <span class="ruby-identifier">options</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/value=&quot;&quot;/</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">options</span> <span class="ruby-operator">:</span> (<span class="ruby-node">&quot;&lt;option value=\&quot;\&quot;#{selected}&gt;&lt;/option&gt;&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">options</span>)  
113:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000136" class="method-detail">
        <a name="M000136"></a>

        <div class="method-heading">
          <a href="#M000136" class="method-signature">
          <span class="method-name">arrays_to_hash</span><span class="method-args">(keys,values)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Merges two arrays into a hash.
</p>
<h4>Parameters</h4>
<table>
<tr><td valign="top">keys:</td><td>An array of keys for the hash.

</td></tr>
<tr><td valign="top">values:</td><td>An array of values for the hash.

</td></tr>
</table>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000136-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000136-source">
<pre>
    <span class="ruby-comment cmt"># File app/helpers/application_helper.rb, line 8</span>
 8:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">arrays_to_hash</span>(<span class="ruby-identifier">keys</span>,<span class="ruby-identifier">values</span>)
 9:     <span class="ruby-identifier">hash</span> = {}
10:     <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">size</span>.<span class="ruby-identifier">times</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">hash</span>[ <span class="ruby-identifier">keys</span>[<span class="ruby-identifier">i</span>] ] = <span class="ruby-identifier">values</span>[<span class="ruby-identifier">i</span>] }
11:     <span class="ruby-identifier">hash</span>
12:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000137" class="method-detail">
        <a name="M000137"></a>

        <div class="method-heading">
          <a href="#M000137" class="method-signature">
          <span class="method-name">controller_action</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns a string containing the controller name + &#8217;/&#8217; +
controller.action_name
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000137-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000137-source">
<pre>
    <span class="ruby-comment cmt"># File app/helpers/application_helper.rb, line 15</span>
15:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">controller_action</span>
16:     <span class="ruby-ivar">@controller_action</span> <span class="ruby-operator">||=</span> [<span class="ruby-identifier">controller</span>.<span class="ruby-identifier">controller_name</span>, <span class="ruby-identifier">controller</span>.<span class="ruby-identifier">action_name</span>].<span class="ruby-identifier">join</span>(<span class="ruby-value str">'/'</span>)
17:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000149" class="method-detail">
        <a name="M000149"></a>

        <div class="method-heading">
          <a href="#M000149" class="method-signature">
          <span class="method-name">country_options_for_select</span><span class="method-args">(selected = nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns select options for the countries in TZInfo::Country.
</p>
<h4>Parameters</h4>
<table>
<tr><td valign="top">selected:</td><td>Specify a country to be selected using its country code specified in
TZInfo::Country.

</td></tr>
</table>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000149-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000149-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/application_helper.rb, line 157</span>
157:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">country_options_for_select</span>(<span class="ruby-identifier">selected</span> = <span class="ruby-keyword kw">nil</span>)
158:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">select_option</span>(<span class="ruby-constant">COUNTRY_OPTIONS_FOR_SELECT</span>, <span class="ruby-identifier">selected</span>)
159:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000141" class="method-detail">
        <a name="M000141"></a>

        <div class="method-heading">
          <a href="#M000141" class="method-signature">
          <span class="method-name">current_avatar</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Renders an image tag for the current <a href="User.html">User</a>&#8217;s
<a href="Avatar.html">Avatar</a>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000141-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000141-source">
<pre>
    <span class="ruby-comment cmt"># File app/helpers/application_helper.rb, line 58</span>
58:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">current_avatar</span>
59:     <span class="ruby-identifier">logged_in?</span> <span class="ruby-value">? </span>
60:       <span class="ruby-identifier">image_tag</span>(<span class="ruby-value str">'/avatar/show?'</span>, <span class="ruby-identifier">:alt</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">login</span>) <span class="ruby-operator">:</span>  <span class="ruby-comment cmt"># The '?' is a hack to prevent the appended .png from spoiling the call</span>
61:       <span class="ruby-identifier">image_tag</span>(<span class="ruby-value str">'id_image.gif'</span>, <span class="ruby-identifier">:alt</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;ID Image&quot;</span>, <span class="ruby-identifier">:size</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'70x70'</span>)
62:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000140" class="method-detail">
        <a name="M000140"></a>

        <div class="method-heading">
          <a href="#M000140" class="method-signature">
          <span class="method-name">error_messages_for</span><span class="method-args">(object_name, options = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns a div containing the error messages for <em>object_name</em>.
</p>
<h4>Parameters</h4>
<table>
<tr><td valign="top">object_name:</td><td>A string that is the name of the object we&#8217;re reporting errors for.

</td></tr>
<tr><td valign="top">options:</td><td>A hash containing options for the messages.

</td></tr>
</table>
<pre>
  header_tag:: A valid html header tag (h1, h2, h3, ...)
  id::         An id for the unordered list element.
  class::      A class for the unordered list element.
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000140-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000140-source">
<pre>
    <span class="ruby-comment cmt"># File app/helpers/application_helper.rb, line 38</span>
38:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">error_messages_for</span>(<span class="ruby-identifier">object_name</span>, <span class="ruby-identifier">options</span> = {})
39:     <span class="ruby-identifier">options</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">symbolize_keys</span>
40:     <span class="ruby-identifier">object</span> = <span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-node">&quot;@#{object_name}&quot;</span>)
41:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">object</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">object</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">empty?</span>
42:       <span class="ruby-identifier">content</span> = <span class="ruby-identifier">content_tag</span>(<span class="ruby-value str">&quot;div&quot;</span>,
43:         <span class="ruby-identifier">content_tag</span>(
44:           <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:header_tag</span>] <span class="ruby-operator">||</span> <span class="ruby-value str">&quot;h2&quot;</span>,
45:           <span class="ruby-node">&quot;#{pluralize(object.errors.count, &quot;error&quot;)} prohibited this #{object_name.to_s.gsub(&quot;_&quot;, &quot; &quot;)} from being saved&quot;</span>
46:         ) <span class="ruby-operator">+</span>
47:         <span class="ruby-identifier">content_tag</span>(<span class="ruby-value str">&quot;p&quot;</span>, <span class="ruby-value str">&quot;There were problems with the following fields:&quot;</span>) <span class="ruby-operator">+</span>
48:         <span class="ruby-identifier">content_tag</span>(<span class="ruby-value str">&quot;ul&quot;</span>, <span class="ruby-identifier">object</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">full_messages</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">msg</span><span class="ruby-operator">|</span> <span class="ruby-identifier">content_tag</span>(<span class="ruby-value str">&quot;li&quot;</span>, <span class="ruby-identifier">msg</span>) }),
49:         <span class="ruby-value str">&quot;id&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:id</span>] <span class="ruby-operator">||</span> <span class="ruby-value str">&quot;errorExplanation&quot;</span>, <span class="ruby-value str">&quot;class&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:class</span>] <span class="ruby-operator">||</span> <span class="ruby-value str">&quot;errorExplanation&quot;</span>
50:       )
51:       <span class="ruby-identifier">render</span> <span class="ruby-identifier">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;layouts/errors&quot;</span>, <span class="ruby-identifier">:locals</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-identifier">:content</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">content</span>}
52:     <span class="ruby-keyword kw">else</span>
53:       <span class="ruby-value str">&quot;&quot;</span>
54:     <span class="ruby-keyword kw">end</span>
55:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000148" class="method-detail">
        <a name="M000148"></a>

        <div class="method-heading">
          <a href="#M000148" class="method-signature">
          <span class="method-name">format_language</span><span class="method-args">(language)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Displays a Globalize::Language in a user friendly format.
</p>
<h4>Parameters</h4>
<table>
<tr><td valign="top">language:</td><td>The Globalize::Language to be formatted.

</td></tr>
</table>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000148-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000148-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/application_helper.rb, line 146</span>
146:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">format_language</span>(<span class="ruby-identifier">language</span>)
147:     <span class="ruby-keyword kw">return</span> <span class="ruby-value str">''</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">language</span>
148:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">language</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> 
149:            (<span class="ruby-identifier">language</span>.<span class="ruby-identifier">english_name_locale</span> <span class="ruby-value">? </span><span class="ruby-node">&quot; - #{language.english_name_locale}&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-value str">''</span>) <span class="ruby-operator">+</span> 
150:            (<span class="ruby-identifier">language</span>.<span class="ruby-identifier">english_name_modifier</span> <span class="ruby-value">? </span><span class="ruby-node">&quot; - #{language.english_name_modifier}&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-value str">''</span>)
151:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000151" class="method-detail">
        <a name="M000151"></a>

        <div class="method-heading">
          <a href="#M000151" class="method-signature">
          <span class="method-name">friendly_property_value</span><span class="method-args">(property)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns a user friendly version <a
href="Property.html#M000110">Property.value</a> for display.
</p>
<h4>Parameters</h4>
<table>
<tr><td valign="top">property:</td><td>The <a href="Property.html">Property</a> to be formatted.

</td></tr>
</table>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000151-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000151-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/application_helper.rb, line 171</span>
171:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">friendly_property_value</span>(<span class="ruby-identifier">property</span>)
172:     <span class="ruby-ivar">@@openid_map</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">properties</span>.<span class="ruby-identifier">openid</span>
173:     <span class="ruby-keyword kw">return</span> <span class="ruby-value str">''</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">property</span>.<span class="ruby-identifier">value</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">property</span>.<span class="ruby-identifier">value</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">''</span>
174:     
175:     <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">property</span>.<span class="ruby-identifier">property_type</span>.<span class="ruby-identifier">short_name</span>
176:     <span class="ruby-keyword kw">when</span> <span class="ruby-ivar">@@openid_map</span>[<span class="ruby-value str">'dob'</span>]
177:       <span class="ruby-identifier">property</span>.<span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_time</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-value str">&quot;%B %d, %Y&quot;</span>)
178:     <span class="ruby-keyword kw">when</span> <span class="ruby-ivar">@@openid_map</span>[<span class="ruby-value str">'timezone'</span>]
179:       <span class="ruby-identifier">property</span>.<span class="ruby-identifier">value</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\//</span>, <span class="ruby-value str">' - '</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/_/</span>, <span class="ruby-value str">' '</span>)
180:     <span class="ruby-keyword kw">when</span> <span class="ruby-ivar">@@openid_map</span>[<span class="ruby-value str">'language'</span>]
181:       <span class="ruby-identifier">language</span> = <span class="ruby-constant">Globalize</span><span class="ruby-operator">::</span><span class="ruby-constant">Language</span>.<span class="ruby-identifier">find_by_iso_639_2</span>(<span class="ruby-identifier">property</span>.<span class="ruby-identifier">value</span>)
182:       <span class="ruby-identifier">format_language</span>(<span class="ruby-identifier">language</span>)
183:     <span class="ruby-keyword kw">when</span> <span class="ruby-ivar">@@openid_map</span>[<span class="ruby-value str">'country'</span>]
184:       <span class="ruby-keyword kw">begin</span>
185:         <span class="ruby-constant">TZInfo</span><span class="ruby-operator">::</span><span class="ruby-constant">Country</span>.<span class="ruby-identifier">get</span>(<span class="ruby-identifier">property</span>.<span class="ruby-identifier">value</span>).<span class="ruby-identifier">name</span>
186:       <span class="ruby-keyword kw">rescue</span>
187:         <span class="ruby-identifier">property</span>.<span class="ruby-identifier">value</span>
188:       <span class="ruby-keyword kw">end</span>
189:     <span class="ruby-keyword kw">else</span>
190:       <span class="ruby-identifier">property</span>.<span class="ruby-identifier">value</span>
191:     <span class="ruby-keyword kw">end</span>
192:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000146" class="method-detail">
        <a name="M000146"></a>

        <div class="method-heading">
          <a href="#M000146" class="method-signature">
          <span class="method-name">gender_options_for_select</span><span class="method-args">(selected = nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns select options for Male and Female.
</p>
<h4>Parameters</h4>
<table>
<tr><td valign="top">selected:</td><td>Specify an option to be selected. Accepted values are &#8216;Male&#8217;
and &#8216;Female&#8216;

</td></tr>
</table>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000146-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000146-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/application_helper.rb, line 131</span>
131:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gender_options_for_select</span>(<span class="ruby-identifier">selected</span> = <span class="ruby-keyword kw">nil</span>)
132:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">select_option</span>(<span class="ruby-constant">GENDER_OPTIONS_FOR_SELECT</span>, <span class="ruby-identifier">selected</span>)
133:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000143" class="method-detail">
        <a name="M000143"></a>

        <div class="method-heading">
          <a href="#M000143" class="method-signature">
          <span class="method-name">input_for_property</span><span class="method-args">(property)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Create an input tag of the appropriate type for the given
<em>property</em>.
</p>
<h4>Parameters</h4>
<table>
<tr><td valign="top">property:</td><td>The <a href="Property.html">Property</a> for which we are creating the
input tag. It&#8217;s PropertyType#control_type and PropertyType#format
determine what type of input will be used. PropertyType#control_type ==
&#8216;input_text&#8217; specifies a text box. PropertyType#control_type ==
&#8216;date_select&#8217; specifies a select date.
PropertyType#control_type == &#8216;select&#8217; indicates a select box
with the options specified by

<pre>
                                      PropertyType#format
</pre>
<p>
Available options for PropertyType#format are &#8216;gender&#8217;,
&#8216;langauge&#8217;, &#8216;country&#8217;, and &#8216;time_zone&#8216;
</p>
</td></tr>
</table>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000143-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000143-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/application_helper.rb, line 83</span>
 83:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">input_for_property</span>(<span class="ruby-identifier">property</span>)
 84:     <span class="ruby-identifier">control_type</span> = <span class="ruby-identifier">property</span>.<span class="ruby-identifier">property_type</span>.<span class="ruby-identifier">control_type</span>
 85:     <span class="ruby-identifier">format</span> = <span class="ruby-identifier">property</span>.<span class="ruby-identifier">property_type</span>.<span class="ruby-identifier">format</span>
 86: 
 87:     <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">control_type</span>
 88:     <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'input_text'</span>
 89:       <span class="ruby-keyword kw">return</span> <span class="ruby-node">&quot;&lt;input class='profile-field' id='property_#{property.id}' name='property[#{property.id}]'&quot;</span> <span class="ruby-operator">+</span> 
 90:              <span class="ruby-node">&quot; type='text' value='#{property.value}' /&gt;&quot;</span>
 91:     <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'date_select'</span>
 92:       <span class="ruby-identifier">options</span> = {<span class="ruby-identifier">:prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;property[#{property.id}]&quot;</span>, <span class="ruby-identifier">:include_blank</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>,
 93:                  <span class="ruby-identifier">:start_year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1930</span>, <span class="ruby-identifier">:end_year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Date</span>.<span class="ruby-identifier">today</span>.<span class="ruby-identifier">year</span>}
 94:       <span class="ruby-keyword kw">return</span> <span class="ruby-value str">'&lt;div class=&quot;profile-field&quot;&gt;'</span> <span class="ruby-operator">+</span>
 95:                <span class="ruby-identifier">select_month</span>(<span class="ruby-identifier">property</span>.<span class="ruby-identifier">value</span>, <span class="ruby-identifier">options</span>) <span class="ruby-operator">+</span> 
 96:                <span class="ruby-identifier">select_day</span>(<span class="ruby-identifier">property</span>.<span class="ruby-identifier">value</span>, <span class="ruby-identifier">options</span>) <span class="ruby-operator">+</span> 
 97:                <span class="ruby-identifier">select_year</span>(<span class="ruby-identifier">property</span>.<span class="ruby-identifier">value</span>, <span class="ruby-identifier">options</span>) <span class="ruby-operator">+</span>
 98:                <span class="ruby-value str">'&lt;/div&gt;'</span>
 99:     <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'select'</span>
100:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">select_tag</span>(<span class="ruby-node">&quot;property[#{property.id}]&quot;</span>,
101:                         <span class="ruby-identifier">add_blank_option</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{format}_options_for_select&quot;</span>.<span class="ruby-identifier">to_sym</span>, <span class="ruby-identifier">property</span>.<span class="ruby-identifier">value</span>)),
102:                         <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'profile-field'</span>)
103:     <span class="ruby-keyword kw">end</span>
104:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000147" class="method-detail">
        <a name="M000147"></a>

        <div class="method-heading">
          <a href="#M000147" class="method-signature">
          <span class="method-name">language_options_for_select</span><span class="method-args">(selected = nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns select options for a group of languages specified by the
Globalize::Language class.
</p>
<h4>Parameters</h4>
<table>
<tr><td valign="top">selected:</td><td>Specify an option to be selected. Accepted values are the iso_639_2 values
for the language as specified in Globalize::Language

</td></tr>
</table>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000147-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000147-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/application_helper.rb, line 139</span>
139:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">language_options_for_select</span>(<span class="ruby-identifier">selected</span> = <span class="ruby-keyword kw">nil</span>)
140:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">select_option</span>(<span class="ruby-constant">LANGUAGE_OPTIONS_FOR_SELECT</span>, <span class="ruby-identifier">selected</span>)
141:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000138" class="method-detail">
        <a name="M000138"></a>

        <div class="method-heading">
          <a href="#M000138" class="method-signature">
          <span class="method-name">render_help</span><span class="method-args">(title, id=nil, options = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns an image link containing the image in images/buttons/help.gif
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000138-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000138-source">
<pre>
    <span class="ruby-comment cmt"># File app/helpers/application_helper.rb, line 20</span>
20:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render_help</span>(<span class="ruby-identifier">title</span>, <span class="ruby-identifier">id</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">options</span> = {})
21:     <span class="ruby-identifier">link_to</span>(<span class="ruby-identifier">image_tag</span>(<span class="ruby-value str">'buttons/help.gif'</span>, <span class="ruby-identifier">:size</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'22x22'</span>), <span class="ruby-value str">'#'</span>, {<span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;tooltip question-mark&quot;</span>, <span class="ruby-identifier">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">title</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;icon-#{id}&quot;</span>}.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>))
22:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000145" class="method-detail">
        <a name="M000145"></a>

        <div class="method-heading">
          <a href="#M000145" class="method-signature">
          <span class="method-name">select_option</span><span class="method-args">(options, selected)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Mark the <em>selected</em> option as selected.
</p>
<h4>Parameters</h4>
<table>
<tr><td valign="top">options:</td><td>A string of options for a select statment.

</td></tr>
<tr><td valign="top">selected:</td><td>The value tag for the option that is to be selected.

</td></tr>
</table>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000145-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000145-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/application_helper.rb, line 119</span>
119:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">select_option</span>(<span class="ruby-identifier">options</span>, <span class="ruby-identifier">selected</span>)
120:     <span class="ruby-identifier">selected_string</span> = <span class="ruby-value str">' selected=&quot;selected&quot;'</span>
121:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span> <span class="ruby-operator">=~</span> <span class="ruby-node">/value=&quot;#{selected}&quot;/</span>
122:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">$`</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">$&amp;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">selected_string</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">$'</span>
123:     <span class="ruby-keyword kw">else</span>
124:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">options</span>
125:     <span class="ruby-keyword kw">end</span>
126:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000139" class="method-detail">
        <a name="M000139"></a>

        <div class="method-heading">
          <a href="#M000139" class="method-signature">
          <span class="method-name">selected?</span><span class="method-args">(pattern)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
returns &#8216;selected&#8217; for the navigation menu if the
controller/action_name matches
</p>
<pre>
  selected?(/^account/) # matches account/
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000139-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000139-source">
<pre>
    <span class="ruby-comment cmt"># File app/helpers/application_helper.rb, line 27</span>
27:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">selected?</span>(<span class="ruby-identifier">pattern</span>)
28:     <span class="ruby-value str">'selected'</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">controller_action</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">pattern</span>
29:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000142" class="method-detail">
        <a name="M000142"></a>

        <div class="method-heading">
          <a href="#M000142" class="method-signature">
          <span class="method-name">sort_link_for</span><span class="method-args">(title, sort_method, action=:list)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Renders a link to <em>action</em> to sort an object by <em>title</em> in
the order specified by <em>sort_method</em>.
</p>
<h4>Parameters</h4>
<table>
<tr><td valign="top">title:</td><td>The title for the link <b>and</b> the property to sort by.

</td></tr>
</table>
<p>
sort_method::&#8217;asc&#8217; or &#8216;desc&#8217;. Specifies the sort
order.
</p>
<table>
<tr><td valign="top">action:</td><td>Defaults to :list. Override to specify a different action to link to.

</td></tr>
</table>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000142-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000142-source">
<pre>
    <span class="ruby-comment cmt"># File app/helpers/application_helper.rb, line 69</span>
69:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sort_link_for</span>(<span class="ruby-identifier">title</span>, <span class="ruby-identifier">sort_method</span>, <span class="ruby-identifier">action</span>=<span class="ruby-identifier">:list</span>)
70:     <span class="ruby-identifier">link_to</span> <span class="ruby-identifier">title</span>, {<span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">action</span>, <span class="ruby-identifier">:order_by</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">sort_method</span>, <span class="ruby-identifier">:order</span> =<span class="ruby-operator">&gt;</span> (<span class="ruby-ivar">@order_by</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">sort_method</span>) <span class="ruby-operator">?</span> <span class="ruby-value str">'desc'</span> <span class="ruby-operator">:</span> <span class="ruby-value str">'asc'</span>},
71:                    {<span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'tooltip'</span>, <span class="ruby-identifier">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;Sort By #{title}&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;header-#{title.downcase.gsub(' ', '-')}&quot;</span>}
72:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000150" class="method-detail">
        <a name="M000150"></a>

        <div class="method-heading">
          <a href="#M000150" class="method-signature">
          <span class="method-name">time_zone_options_for_select</span><span class="method-args">(selected = nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns select options for TimeZones using the tz_database wrapped by
TZInfo::Timezone
</p>
<h4>Parameters</h4>
<table>
<tr><td valign="top">select:</td><td>Specify a value using the identifier for the timezone used by
TZInfo::Timezone

</td></tr>
</table>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000150-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000150-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/application_helper.rb, line 164</span>
164:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">time_zone_options_for_select</span>(<span class="ruby-identifier">selected</span> = <span class="ruby-keyword kw">nil</span>)
165:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">select_option</span>(<span class="ruby-constant">TIME_ZONE_OPTIONS_FOR_SELECT</span>, <span class="ruby-identifier">selected</span>)
166:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>